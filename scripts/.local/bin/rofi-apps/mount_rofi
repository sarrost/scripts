#! /bin/sh

devices="$(lsblk -rpo "name,type,size,mountpoint" | awk '!/sdb[1-6]/ && $2=="part"&&$4==""{printf "%s (%s)\n",$1,$3}')"
if [[ $devices == '' ]]; then
	exit 0
else	
    device=$(echo $devices | rofi -dmenu -p "Choose device to mount:" | awk '{print $1}')
    dirs="$(find $HOME/Mount -type d | awk '!/^\/home\/sarrost\/Mount$/ {split($0,a,"/"); printf "%s\n", a[5]}')"
    dir=$(echo $dirs | rofi -sep ' ' -dmenu -p "Choose location to mount to:")
    mp="$HOME/Mount/$dir"
    mkdir "$mp"
    sudo -A mount -o uid=1000,gid=985,umask=000 "$device" "$mp"
fi
exit 0
#$device=
